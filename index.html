<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Nivriti — Handmade Crafts</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <!-- ================= HEADER ================= -->
  <header>
    <div class="container nav">
      <img src="images/logo.jpg" alt="Nivriti Logo" class="site-logo" />
      <nav>
        <a href="#products">Products</a>
        <a href="#order">Order</a>
        <a href="#contact">Contact</a>
      </nav>
    </div>
  </header>

  <!-- ================= HERO ================= -->
  <section class="hero">
    <h2>Welcome to Nivriti</h2>
    <p>Handmade crafts with love – scented candles, bangles & more</p>
    <a href="#products" class="btn">Shop Now</a>
  </section>

  <!-- ================= PRODUCTS ================= -->
  <section id="products">
    <h2 class="section-title">Our Products</h2>
    <div class="product-grid" id="product-list"></div>
  </section>

  <!-- ================= ORDER FORM ================= -->
  <section id="order" class="order-section">
    <h2 class="section-title">Place Your Order</h2>
    <form action="https://formspree.io/f/your-form-id" method="POST" class="order-form" id="order-form">
      <label>Your Name:<input type="text" name="name" required></label>
      <label>Address:<input type="text" name="address" required></label>
      <label>Mobile Number:<input type="tel" name="mobile" pattern="[0-9]{10,15}" placeholder="01XXXXXXXXX" required></label>
      <label>Email Address:<input type="email" name="email" required></label>
      <label>Product Name:<input type="text" id="order-product-name" name="product" required></label>
      <label>Quantity:<input type="number" name="quantity" min="1" value="1" required></label>
      <label>Additional Notes:<textarea name="notes" rows="4" placeholder="Any special request..."></textarea></label>
      <button type="submit" class="btn">Submit Order</button>
    </form>
  </section>

  <!-- ================= CONTACT ================= -->
  <section id="contact" class="contact-section">
    <h2 class="section-title">Contact Us</h2>
    <p>Have questions? Reach us at <a href="mailto:ruscienceclub@gmail.com">ruscienceclub@gmail.com</a></p>
  </section>

  <!-- ================= COMMENTS ================= -->
  <section id="comments">
    <h2 class="section-title">Comments</h2>
    <p style="text-align:center;">(Integrate a comment widget here later if needed)</p>
  </section>

  <!-- ================= FOOTER ================= -->
  <footer>
    <p>&copy; 2025 Nivriti Handmade Crafts. All Rights Reserved.</p>
  </footer>

  <!-- ================= IMAGE POPUP ================= -->
  <div id="imgModal" class="img-modal">
    <span class="close">&times;</span>
    <img class="modal-content" id="modal-img">
    <div id="caption"></div>
    <a class="prev">&#10094;</a>
    <a class="next">&#10095;</a>
  </div>

  <!-- ================= SCRIPTS ================= -->
  <script>
    // ===== Load Products from JSON =====
    fetch("products.json")
      .then(res => res.json())
      .then(data => {
        const list = document.getElementById("product-list");
        list.innerHTML = data.map((p, index) => `
          <div class="product-card">
            <img src="${p.image}" alt="${p.name}" data-index="${index}">
            <h3>${p.name}</h3>
            <p class="price">${p.price}</p>
            <button class="btn btn-order" data-product="${p.name}">Order Now</button>
          </div>
        `).join("");
      });

    // ===== Order Button Fill =====
    document.addEventListener("click", (e) => {
      if (e.target.classList.contains("btn-order")) {
        document.getElementById("order-product-name").value = e.target.dataset.product;
        document.getElementById("order").scrollIntoView({ behavior: "smooth" });
      }
    });

    // ===== IMAGE POPUP WITH GALLERY =====
    let currentIndex = 0;
    let images = [];

    document.addEventListener("click", function(e) {
      if (e.target.tagName === "IMG" && e.target.closest(".product-card")) {
        images = Array.from(document.querySelectorAll(".product-card img"));
        currentIndex = images.indexOf(e.target);

        openModal(currentIndex);
      }
    });

    function openModal(index) {
      const modal = document.getElementById("imgModal");
      const modalImg = document.getElementById("modal-img");
      const caption = document.getElementById("caption");

      modal.style.display = "block";
      modalImg.src = images[index].src;
      caption.innerHTML = images[index].alt;
    }

    document.querySelector(".img-modal .close").addEventListener("click", () => {
      document.getElementById("imgModal").style.display = "none";
    });

    document.querySelector(".img-modal .prev").addEventListener("click", () => {
      currentIndex = (currentIndex - 1 + images.length) % images.length;
      openModal(currentIndex);
    });

    document.querySelector(".img-modal .next").addEventListener("click", () => {
      currentIndex = (currentIndex + 1) % images.length;
      openModal(currentIndex);
    });

    document.getElementById("imgModal").addEventListener("click", (e) => {
      if (e.target.id === "imgModal") {
        e.target.style.display = "none";
      }
    });
  </script>
</body>
</html>
